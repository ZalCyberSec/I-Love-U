<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love </title>
<style>
  body { margin:0; overflow:hidden; background:black; touch-action:none; }
  canvas { display:block; position:absolute; top:0; left:0; }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let w=canvas.width, h=canvas.height;

let angleX=0, angleY=0, hue=0, t=0;

// 🌌 Stars
const stars = [];
for(let i=0;i<500;i++){
  stars.push({ x:Math.random()*w - w/2, y:Math.random()*h - h/2, z:Math.random()*1500, size:Math.random()*2, twinkle:Math.random()*Math.PI*2 });
}

// 💖 Floating Hearts
const hearts = [];
for(let i=0;i<80;i++){
  hearts.push({ x:Math.random()*w, y:Math.random()*h, size:12+Math.random()*18, speed:0.3+Math.random(), drift:(Math.random()-0.5)*0.4, alpha:0.5+Math.random()*0.5 });
}

// 3D rotation
function rotate3D(x,y,z,ax,ay){
  let cosX=Math.cos(ax), sinX=Math.sin(ax);
  let y1=y*cosX - z*sinX;
  let z1=y*sinX + z*cosX;
  let cosY=Math.cos(ay), sinY=Math.sin(ay);
  let x2=x*cosY + z1*sinY;
  let z2=-x*sinY + z1*cosY;
  return [x2,y1,z2];
}

// Background galaxy
function drawBackground(){
  let grad = ctx.createRadialGradient(w/2,h/2,100,w/2,h/2,w/1.2);
  grad.addColorStop(0,"rgba(180,0,200,0.8)");
  grad.addColorStop(0.5,"rgba(20,0,50,0.85)");
  grad.addColorStop(1,"rgba(0,0,15,1)");
  ctx.fillStyle=grad;
  ctx.fillRect(0,0,w,h);

  ctx.save();
  ctx.translate(w/2,h/2);
  for(let s of stars){
    s.z -= 1.5; 
    if(s.z<1) s.z=1500;
    let p=400/s.z;
    let px=s.x*p, py=s.y*p;
    let alpha=(Math.sin(Date.now()/1000 + s.twinkle)+1)/2*0.9+0.1;
    ctx.globalAlpha=alpha;
    ctx.fillStyle="white";
    ctx.fillRect(px,py,s.size,s.size);
  }
  ctx.restore();
  ctx.globalAlpha=1;
}

// Floating hearts
function drawHearts(){
  ctx.save();
  ctx.font="bold 20px Arial";
  ctx.textAlign="center";
  for(let hrt of hearts){
    ctx.fillStyle=`rgba(255,100,200,${hrt.alpha})`;
    ctx.fillText("❤", hrt.x, hrt.y);
    hrt.y -= hrt.speed;
    hrt.x += hrt.drift;
    if(hrt.y<-20){ hrt.y=h+20; hrt.x=Math.random()*w; }
  }
  ctx.restore();
}

// 3D Love Rings
function drawHeart3D(layer=1){
  ctx.save();
  ctx.translate(w/2,h/2);
  for(let t=0;t<Math.PI*2;t+=0.1){
    let x=16*Math.pow(Math.sin(t),3);
    let y=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    let z=0;
    let scale=layer===1?24:layer===2?30:38;
    let depth=layer===1?0:layer===2?180:360;
    let [rx,ry,rz]=rotate3D(x*scale,y*scale,z,angleX,angleY);
    rz += 600 + depth;
    let perspective = 400/rz;
    let posX = rx*perspective;
    let posY = ry*perspective;
    let alpha = layer===1?1:layer===2?0.35:0.18;
    ctx.globalAlpha=alpha;
    ctx.fillStyle=`hsl(${hue+t*90},100%,${layer===1?65:layer===2?45:35}%)`;
    ctx.shadowColor=ctx.fillStyle;
    ctx.shadowBlur = layer===1?25:layer===2?12:6;
    ctx.font=`${16*perspective}px Arial Black`;
    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.fillText("I Love You ❤",posX,posY);
  }
  ctx.restore();
  if(layer===1) hue+=1.2;
}

// Center text
let offsetX=0, offsetY=0;
function drawCenterText(){
  t+=0.05;
  let targetX = Math.sin(angleY)*30;
  let targetY = Math.sin(angleX)*15;
  offsetX += (targetX - offsetX)*0.05;
  offsetY += (targetY - offsetY)*0.05;
  let shake = 1 + Math.sin(t)*0.03;
  ctx.save();
  ctx.translate(w/2 + offsetX, h/2 + offsetY);
  ctx.scale(shake, shake);
  ctx.font="bold 40px Arial Black";
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  ctx.fillStyle="white";
  ctx.shadowColor="magenta";
  ctx.shadowBlur=30;
  ctx.fillText("I Love You 💖",0,0);
  ctx.restore();
}

// Animate
function animate(){
  drawBackground();
  drawHearts();
  drawHeart3D(3);
  drawHeart3D(2);
  drawHeart3D(1);
  drawCenterText();
  // Auto rotation
  angleY += 0.002;
  angleX += 0.001;
  requestAnimationFrame(animate);
}
animate();

// Drag control
let isDrag=false, lastX, lastY;
canvas.addEventListener("mousedown",e=>{ isDrag=true; lastX=e.clientX; lastY=e.clientY; });
canvas.addEventListener("mouseup",()=>isDrag=false);
canvas.addEventListener("mousemove",e=>{
  if(isDrag){
    angleY += (e.clientX-lastX)*0.01;
    angleX += (e.clientY-lastY)*0.01;
    lastX=e.clientX; lastY=e.clientY;
  }
});

// Touch
canvas.addEventListener("touchstart",e=>{ isDrag=true; lastX=e.touches[0].clientX; lastY=e.touches[0].clientY; });
canvas.addEventListener("touchend",()=>isDrag=false);
canvas.addEventListener("touchmove",e=>{
  if(isDrag){
    angleY += (e.touches[0].clientX-lastX)*0.01;
    angleX += (e.touches[0].clientY-lastY)*0.01;
    lastX=e.touches[0].clientX; lastY=e.touches[0].clientY;
  }
});

// Resize
window.addEventListener("resize",()=>{ canvas.width=window.innerWidth; canvas.height=window.innerHeight; w=canvas.width; h=canvas.height; });

</script>
</body>
</html>
